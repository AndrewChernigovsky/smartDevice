"use strict";const footerNav=document.querySelector(".footer__nav"),footerContacts=document.querySelector(".footer__contacts"),footerTitleNav=document.querySelector(".footer__title-nav"),footerTitleContacts=document.querySelector(".footer__title-contacts"),btnContactsFooter=document.getElementById("footerBtnContacts"),btnNavFooter=document.getElementById("footerBtnNav"),btnPopup=(footerNav.classList.remove("footer__nav--nojs"),footerContacts.classList.remove("footer__contacts--nojs"),footerTitleNav.addEventListener("click",()=>{footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed"),footerNav.classList.contains("footer__nav--closed")?(footerNav.classList.add("footer__nav--opened"),footerNav.classList.remove("footer__nav--closed")):footerContacts.classList.contains("footer__contacts--opened")?(footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed")):(footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed"))}),btnNavFooter.addEventListener("click",()=>{footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed"),footerNav.classList.contains("footer__nav--closed")?(footerNav.classList.add("footer__nav--opened"),footerNav.classList.remove("footer__nav--closed")):footerContacts.classList.contains("footer__contacts--opened")?(footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed")):(footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed"))}),footerTitleContacts.addEventListener("click",()=>{footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed"),footerContacts.classList.contains("footer__contacts--closed")?(footerContacts.classList.add("footer__contacts--opened"),footerContacts.classList.remove("footer__contacts--closed")):footerNav.classList.contains("footer__nav--opened")?(footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed")):(footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed"))}),btnContactsFooter.addEventListener("click",()=>{footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed"),footerContacts.classList.contains("footer__contacts--closed")?(footerContacts.classList.add("footer__contacts--opened"),footerContacts.classList.remove("footer__contacts--closed")):footerNav.classList.contains("footer__nav--opened")?(footerNav.classList.remove("footer__nav--opened"),footerNav.classList.add("footer__nav--closed")):(footerContacts.classList.remove("footer__contacts--opened"),footerContacts.classList.add("footer__contacts--closed"))}),document.getElementById("callUs")),overflow=document.getElementById("overflow"),popupName=document.getElementById("popname"),popupform=document.querySelector(".mainformPopup"),popupformbtn=document.querySelector(".btnPop"),body=document.querySelector(".page__body"),formPopup=document.querySelector(".main-formPopup"),formPopupName=document.getElementById("popname"),formPopupPhone=document.getElementById("popphone"),formPopupFaq=document.getElementById("popfaq"),formPopupAgree=document.getElementById("popagree"),form=document.getElementById("form"),formName=document.getElementById("name"),formPhone=document.getElementById("phone"),formFaq=document.getElementById("faq");function isValidPhone(o){return!/^(\+7|7|8)?[\s\-]?\(?[0-9][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/.test(o.value)}function isValidName(o){return!/^\D{1,3}[А-Яа-яA-Za-z0-9_-]{3,30}$/.test(o.value)}function isValidText(o){return!/^\D{1,3}[А-Яа-яA-Za-z0-9_-]{10,150}$/.test(o.value)}btnPopup.addEventListener("click",o=>{overflow.classList.add("overflow"),popupform.classList.add("mainformPopup-js"),body.style.overflowY="hidden",popupform.style.overflowY="scroll",formPopup.classList.add("scroll-form"),popupName.focus()}),formPopupAgree.addEventListener("blur",()=>{popupformbtn.focus()}),overflow.addEventListener("click",()=>{popupform.classList.remove("mainformPopup-js"),overflow.classList.remove("overflow"),body.style.overflowY="scroll",popupform.style.overflowY="hidden"}),document.addEventListener("keydown",function(o){"Escape"===o.key&&(popupform.classList.remove("mainformPopup-js"),overflow.classList.remove("overflow"),body.style.overflowY="scroll",popupform.style.overflowY="hidden"),"Tab"===o.key&&o.shiftKey&&popupName.focus()}),popupformbtn.addEventListener("click",()=>{popupform.classList.remove("mainformPopup-js"),overflow.classList.remove("overflow"),body.style.overflowY="scroll",popupform.style.overflowY="hidden"}),formPopupName.removeAttribute("required"),formPopupPhone.removeAttribute("required"),formName.removeAttribute("required"),formPhone.removeAttribute("required"),popupform.addEventListener("submit",function(o){isValidName(formPopupName)?(formPopupName.classList.add("error"),o.preventDefault()):(formPopupName.classList.remove("error"),formPopupName.classList.add("success"),localStorage.setItem("usernamePopup",formPopupName.value)),isValidPhone(formPopupPhone)?(formPopupPhone.classList.add("error"),o.preventDefault()):(formPopupPhone.classList.remove("error"),formPopupPhone.classList.add("success"),localStorage.setItem("phonePopup",formPopupPhone.value)),0==!formPopupFaq.value.length&&(isValidText(formPopupFaq)?(formPopupFaq.classList.add("error"),o.preventDefault()):(formPopupFaq.classList.remove("error"),formPopupFaq.classList.add("success"),localStorage.setItem("textPopup",formPopupFaq.value))),formPopupPhone.classList.contains("success")&&formPopupName.classList.contains("success")&&alert("Форма успешно отправлена")}),form.addEventListener("submit",function(o){isValidName(formName)?(formName.classList.add("error"),o.preventDefault()):(formName.classList.remove("error"),formName.classList.add("success"),localStorage.setItem("username",formName.value)),isValidPhone(formPhone)?(formPhone.classList.add("error"),o.preventDefault()):(formPhone.classList.remove("error"),formPhone.classList.add("success"),localStorage.setItem("phone",formPhone.value)),0==!formFaq.value.length&&(isValidText(formFaq)?(formFaq.classList.add("error"),o.preventDefault()):(formFaq.classList.remove("error"),formFaq.classList.add("success"),localStorage.setItem("text",formFaq.value))),formPhone.classList.contains("success")&&formName.classList.contains("success")&&alert("Форма успешно отправлена")}),window.addEventListener("DOMContentLoaded",function(){function o(o){var e="+7 (___) ___ ____",t=0,s=e.replace(/\D/g,""),r=this.value.replace(/\D/g,"");s.length>=r.length&&(r=s),this.value=e.replace(/./g,function(o){return/[_\d]/.test(o)&&t<r.length?r.charAt(t++):t>=r.length?"":o}),"blur"==o.type?2==this.value.length&&(this.value=""):(s=this.value.length,(e=this).focus(),e.setSelectionRange?e.setSelectionRange(s,s):e.createTextRange&&((e=e.createTextRange()).collapse(!0),e.moveEnd("character",s),e.moveStart("character",s),e.select()))}formPopupPhone.addEventListener("input",o,!1),formPopupPhone.addEventListener("focus",o,!1),formPopupPhone.addEventListener("blur",o,!1),formPhone.addEventListener("input",o,!1),formPhone.addEventListener("focus",o,!1),formPhone.addEventListener("blur",o,!1)});const anchors=document.querySelectorAll('a[href*="#"]');for(let e of anchors)e.addEventListener("click",function(o){o.preventDefault();o=e.getAttribute("href").substr(1);document.getElementById(o).scrollIntoView({behavior:"smooth",block:"start"})});